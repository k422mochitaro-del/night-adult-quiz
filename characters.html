<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>夜の大人診断 - 16タイプキャラクター</title>
<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&family=Noto+Sans+JP&display=swap" rel="stylesheet">
<style>
body {
  font-family: 'Noto Sans JP', sans-serif;
  background: linear-gradient(135deg, #0d0d0d, #2c0a0a);
  margin: 0;
  padding: 20px;
  color: #fff;
  text-align: center;
  overflow-x: hidden;
}
h1 {
  font-family: 'Oswald', sans-serif;
  color: #d32f2f;
  font-size: 36px;
  margin-top: 40px;
}
p {
  font-size: 16px;
  margin: 10px auto 30px;
  max-width: 400px;
  line-height: 1.5;
}
.character-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 20px;
}
.character-card {
  background: rgba(255,255,255,0.05);
  border-radius: 10px;
  padding: 10px;
  text-align: center;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(0,0,0,0.5);
  transition: transform 0.2s;
}
.character-card:hover { transform: translateY(-5px); }
.character-img { width: 100px; height: 100px; object-fit: contain; }
.type-code { font-weight: bold; margin-top: 5px; }
.personality { font-size: 0.85em; margin-top: 3px; }

/* モーダル */
.modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); justify-content: center; align-items: center; z-index: 10; }
.modal-content { background: #1a1a1a; padding: 20px; border-radius: 10px; max-width: 500px; width: 90%; text-align: center; color: #fff; position: relative; }
.close { position: absolute; top: 10px; right: 15px; font-size: 24px; cursor: pointer; color: #d32f2f; }
.character-img-large { width: 150px; height: 150px; object-fit: contain; margin-bottom: 10px; }

.home-button button {
  font-family: 'Noto Sans JP', sans-serif; /* ホームと同じフォント */
  background: #d32f2f;                     /* ホームのボタン色 */
  color: #fff;
  border: none;
  padding: 16px 40px;
  font-size: 18px;
  font-weight: bold;
  border-radius: 10px;
  cursor: pointer;
  transition: 0.3s;
}

.home-button button:hover {
  background: linear-gradient(45deg, #b71c1c, #f44336);
  transform: translateY(-2px);
}
</style>
</head>
<body>

<h1>16タイプキャラクター紹介</h1>
<p>カードをクリックすると詳細情報が表示されます。</p>

<div class="character-grid">
  <!-- ここに16タイプカードを挿入 -->
  <!-- 例 -->
  <div class="character-card" onclick="openDetail('D-F-O-A')">
    <img src="images/D-F-O-A.jpg" class="character-img">
    <div class="type-code">D-F-O-A</div>
    <div class="personality">ライオン</div>
  </div>
    <div class="character-card" onclick="openDetail('D-F-O-N')">
    <img src="images/D-F-O-N.jpg" alt="D-F-O-N" class="character-img">
    <div class="type-code">D-F-O-N</div>
    <div class="personality">トラ</div>
  </div>

  <div class="character-card" onclick="openDetail('D-F-C-A')">
    <img src="images/D-F-C-A.jpg" alt="D-F-C-A" class="character-img">
    <div class="type-code">D-F-C-A</div>
    <div class="personality">タカ</div>
  </div>

  <div class="character-card" onclick="openDetail('D-F-C-N')">
    <img src="images/D-F-C-N.jpg" alt="D-F-C-N" class="character-img">
    <div class="type-code">D-F-C-N</div>
    <div class="personality">オオカミ</div>
  </div>

  <div class="character-card" onclick="openDetail('D-E-O-A')">
    <img src="images/D-E-O-A.jpg" alt="D-E-O-A" class="character-img">
    <div class="type-code">D-E-O-A</div>
    <div class="personality">ユニコーン</div>
  </div>

  <div class="character-card" onclick="openDetail('D-E-O-N')">
    <img src="images/D-E-O-N.jpg" alt="D-E-O-N" class="character-img">
    <div class="type-code">D-E-O-N</div>
    <div class="personality">キツネ</div>
  </div>

  <div class="character-card" onclick="openDetail('D-E-C-A')">
    <img src="images/D-E-C-A.jpg" alt="D-E-C-A" class="character-img">
    <div class="type-code">D-E-C-A</div>
    <div class="personality">フクロウ</div>
  </div>

  <div class="character-card" onclick="openDetail('D-E-C-N')">
    <img src="images/D-E-C-N.jpg" alt="D-E-C-N" class="character-img">
    <div class="type-code">D-E-C-N</div>
    <div class="personality">クマ</div>
  </div>

  <div class="character-card" onclick="openDetail('S-F-O-A')">
    <img src="images/S-F-O-A.jpg" alt="S-F-O-A" class="character-img">
    <div class="type-code">S-F-O-A</div>
    <div class="personality">サル</div>
  </div>

  <div class="character-card" onclick="openDetail('S-F-O-N')">
    <img src="images/S-F-O-N.jpg" alt="S-F-O-N" class="character-img">
    <div class="type-code">S-F-O-N</div>
    <div class="personality">ネコ</div>
  </div>

  <div class="character-card" onclick="openDetail('S-F-C-A')">
    <img src="images/S-F-C-A.jpg" alt="S-F-C-A" class="character-img">
    <div class="type-code">S-F-C-A</div>
    <div class="personality">カメレオン</div>
  </div>

  <div class="character-card" onclick="openDetail('S-F-C-N')">
    <img src="images/S-F-C-N.jpg" alt="S-F-C-N" class="character-img">
    <div class="type-code">S-F-C-N</div>
    <div class="personality">ウサギ</div>
  </div>

  <div class="character-card" onclick="openDetail('S-E-O-A')">
    <img src="images/S-E-O-A.jpg" alt="S-E-O-A" class="character-img">
    <div class="type-code">S-E-O-A</div>
    <div class="personality">ハト</div>
  </div>

  <div class="character-card" onclick="openDetail('S-E-O-N')">
    <img src="images/S-E-O-N.jpg" alt="S-E-O-N" class="character-img">
    <div class="type-code">S-E-O-N</div>
    <div class="personality">イヌ</div>
  </div>

  <div class="character-card" onclick="openDetail('S-E-C-A')">
    <img src="images/S-E-C-A.jpg" alt="S-E-C-A" class="character-img">
    <div class="type-code">S-E-C-A</div>
    <div class="personality">コウモリ</div>
  </div>

  <div class="character-card" onclick="openDetail('S-E-C-N')">
    <img src="images/S-E-C-N.jpg" alt="S-E-C-N" class="character-img">
    <div class="type-code">S-E-C-N</div>
    <div class="personality">シカ</div>
  </div>
</div>

<!-- モーダル -->
<div id="detail-modal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeDetail()">&times;</span>
    <img id="detail-img" src="" alt="" class="character-img-large">
    <h2 id="detail-type"></h2>
    <p id="detail-personality"></p>
    <p id="detail-best"></p>
    <p id="detail-worst"></p>
  </div>
</div>

<div class="home-button" style="margin-top:30px;">
  <button onclick="location.href='index.html'">ホームへ戻る</button>
</div>

<script>
// 16タイプコード
const types = [
  "D-F-O-A","D-F-O-N","D-F-C-A","D-F-C-N",
  "D-E-O-A","D-E-O-N","D-E-C-A","D-E-C-N",
  "S-F-O-A","S-F-O-N","S-F-C-A","S-F-C-N",
  "S-E-O-A","S-E-O-N","S-E-C-A","S-E-C-N"
];

// 軸抽出関数
function splitType(code) {
  return {
    DS: code[0],
    FE: code[2],
    OC: code[4],
    AN: code[6]
  };
}

// 新ルールによるスコア計算
function getScore(typeA, typeB) {
  const a = splitType(typeA);
  const b = splitType(typeB);
  let score = 0;

  // D/S軸
  if ((a.DS === "D" && b.DS === "S") || (a.DS === "S" && b.DS === "D")) score += 2;
  else score += -2;

  // F/E軸
  if (a.FE === b.FE) score += 1;
  else score += -1;

  // O/C軸
  if (a.OC === b.OC) score += 1;
  else score += 0;

  // A/N軸
  if (a.AN === b.AN) score += 1;
  else score += -1;

  return score;
}

// typeDataにベスト3/ワースト3と簡易説明を追加
const typeData = {
  "D-F-O-A": {personality:"ライオン"},
  "D-F-O-N": {personality:"トラ"},
  "D-F-C-A": {personality:"タカ"},
  "D-F-C-N": {personality:"オオカミ"},
  "D-E-O-A": {personality:"ユニコーン"},
  "D-E-O-N": {personality:"キツネ"},
  "D-E-C-A": {personality:"フクロウ"},
  "D-E-C-N": {personality:"クマ"},
  "S-F-O-A": {personality:"サル"},
  "S-F-O-N": {personality:"ネコ"},
  "S-F-C-A": {personality:"カメレオン"},
  "S-F-C-N": {personality:"ウサギ"},
  "S-E-O-A": {personality:"ハト"},
  "S-E-O-N": {personality:"イヌ"},
  "S-E-C-A": {personality:"コウモリ"},
  "S-E-C-N": {personality:"シカ"}
};

// 16タイプ詳細データ（jpg画像使用）
const typeDetail = {
  "D-F-O-A": {name:"絶対主導権握りたい肉体モンスター", desc:"本能のまま主導権を握り、肉体的な刺激を追い求める情熱的なタイプ。相手を圧倒するカリスマを持ちます。"},
  "D-F-O-N": {name:"理性ぶったセックス中毒者", desc:"頭では理性を保っているつもりでも、実は快楽に抗えない隠れ中毒者。理性と欲望の狭間で揺れ動きます。"},
  "D-F-C-A": {name:"ドSな快楽マッドサイエンティスト", desc:"相手を実験台にするかのように、快楽の可能性を探求するドS研究者タイプ。常に新しい刺激を求めます。"},
  "D-F-C-N": {name:"肉体信仰の支配リーダー", desc:"愛よりも肉体的な快感を重視し、主導権を握りたい強い支配欲を持つリーダー気質。"},
  "D-E-O-A": {name:"愛を説く支配系ロマンチスト", desc:"支配欲と同時に愛を語り、ロマンチックに相手を導くタイプ。情熱と優しさの二面性を持ちます。"},
  "D-E-O-N": {name:"甘やかしドSカリスマ", desc:"相手を支配しつつも、時には甘やかす。Sっ気と包容力を兼ね備えたカリスマ的存在です。"},
  "D-E-C-A": {name:"幻想的SM詩人", desc:"愛や感情を幻想的に表現しながら、SM的要素も楽しむ芸術家気質のロマンチスト。"},
  "D-E-C-N": {name:"重たい愛の支配者", desc:"愛情が深すぎて、時に相手を縛りつけるほどの重たい支配力を発揮するタイプ。"},
  "S-F-O-A": {name:"快楽を追い求める猿系モンスター", desc:"ひたすら快楽に忠実で、飽くなき欲求を追い続けるエネルギッシュなタイプ。"},
  "S-F-O-N": {name:"セクシャル従順ペット", desc:"子猫のように従順で、相手の望みを叶えることに喜びを感じる可愛らしいタイプ。"},
  "S-F-C-A": {name:"隠れ変態チャレンジャー", desc:"一見大人しそうに見えて、実は新しい快楽への挑戦に積極的な隠れ変態タイプ。"},
  "S-F-C-N": {name:"おとなしい肉体奉仕者", desc:"大人しく従順で、相手を満足させることを自らの喜びとする献身的なタイプ。"},
  "S-E-O-A": {name:"恋愛依存のセックスロマンチスト", desc:"恋愛感情と快感を強く結びつけ、愛を求め続けるロマンチックな情熱家。"},
  "S-E-O-N": {name:"純愛に溺れるベッドの仔犬", desc:"愛情に包まれることを何よりも大切にし、相手に尽くす純粋な仔犬タイプ。"},
  "S-E-C-A": {name:"秘密主義の危険な夢想家", desc:"秘密を抱えつつ、危うい魅力を放つ幻想的な夢想家。ミステリアスな一面が特徴です。"},
  "S-E-C-N": {name:"究極の尽くし系セックス聖人", desc:"愛情深く、相手の欲望をひたすら受け止める究極の献身タイプ。"}
};

// 全組み合わせスコア計算
for (let t of types) {
  const scores = types.map(other => ({type: other, score: getScore(t, other)}));
  scores.sort((a,b) => b.score - a.score); // 高い順にソート
  typeData[t].best = scores.slice(0,3).map(x => x.type);
  typeData[t].worst = scores.slice(-3).map(x => x.type);
}

// モーダル関数
function openDetail(typeCode) {
  const detail = typeDetail[typeCode];
  document.getElementById('detail-modal').style.display = "flex";
  document.getElementById('detail-img').src = `images/${typeCode}.jpg`;
  document.getElementById('detail-type').textContent = detail.name;
  document.getElementById('detail-personality').textContent = detail.desc;
  document.getElementById('detail-best').textContent = "ベスト相性: " + typeData[typeCode].best.join(", ");
  document.getElementById('detail-worst').textContent = "ワースト相性: " + typeData[typeCode].worst.join(", ");
}

function closeDetail() {
  document.getElementById('detail-modal').style.display = "none";
}
</script>
</body>
</html>
