<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>16ã‚¿ã‚¤ãƒ—ç´¹ä»‹ãƒšãƒ¼ã‚¸</title>
<link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&family=Noto+Sans+JP&display=swap" rel="stylesheet">
<style>
body {
  font-family: 'Noto Sans JP', sans-serif;
  background: linear-gradient(135deg, #0d0d0d, #2c0a0a);
  color: #fff;
  margin: 0;
  padding: 0;
  text-align: center;
}

h1,h2,h3 { font-family: 'Oswald', sans-serif; }
h2 { color:#d32f2f; font-size:32px; margin-top:40px; }
p { line-height:1.6; max-width:600px; margin:10px auto; }

.type-grid {
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap:20px;
  margin-top:30px;
}

.type-card {
  background: rgba(255,255,255,0.05);
  border:1px solid #fff;
  border-radius:15px;
  width:150px;
  cursor:pointer;
  transition:0.3s;
  text-align:center;
  padding:10px;
}
.type-card:hover { transform: translateY(-5px); }

.type-card img { width:100%; border-radius:10px; }

button {
  font-family:'Noto Sans JP', sans-serif;
  background:#d32f2f;
  color:#fff;
  border:none;
  padding:16px 40px;
  font-size:18px;
  font-weight:bold;
  border-radius:10px;
  cursor:pointer;
  transition:0.3s;
  width:300px;
  gap:20px;
  margin:5px 0;
}
button:hover {
  background: linear-gradient(45deg,#b71c1c,#f44336);
  transform:translateY(-2px);
}

/* ãƒ¢ãƒ¼ãƒ€ãƒ« */
#detail-modal {
  display: none;
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.8);
  z-index: 9999;
  overflow-y: auto;
}

#detail-content {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: #222;
  padding: 20px;
  border-radius: 15px;
  max-width: 400px;
  width: 90%;
  box-sizing: border-box;
  text-align: center;
}

#detail-content img.main-img { width:100%; border-radius:10px; }
#detail-content h3 { margin-top:10px; }
#detail-content p { margin:10px 0; }
#detail-content .close-btn {
  margin-top:15px;
  background:#b71c1c;
  padding:10px 20px;
  border-radius:8px;
}
#detail-content .close-btn:hover { background:#f44336; }

#detail-worst {
  margin-top: 10px; /* ä¸Šã«ã‚¹ãƒšãƒ¼ã‚¹ã‚’è¿½åŠ  */
}

/* ä¸¸å‹ç›¸æ€§ç”»åƒ */
.compatible-row {
  display:flex;
  justify-content:center;
  align-items:center;
  gap:5px;
  margin-top:10px;
}

.compatible-wrapper {
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:2px;
  cursor: pointer;
}

.compatible-wrapper img {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  border:1px solid #fff;
  object-fit: cover;
}

.heart-container {
  display:flex;
  gap:2px;
  justify-content:center;
}

.heart-container span {
  font-size: 12px; /* å°ã•ãã™ã‚‹å ´åˆã¯å€¤ã‚’èª¿æ•´ */
}

.home-button { margin:30px; }
</style>
</head>
<body>

<h1>16ã‚¿ã‚¤ãƒ—ç´¹ä»‹</h1>
<section id="type-explanation" style="padding:50px 20px;">
  <h2>4ã¤ã®è»¸</h2>
  <h3>D/Sè»¸ï¼ˆãƒªãƒ¼ãƒ‰è»¸ï¼‰</h3>
  <p>
      <strong>D (Dominant)</strong>ï¼šä¸»å°æ¨©ã‚’æ¡ã‚‹ã‚¿ã‚¤ãƒ—ã€‚æ‹æ„›ã‚„é–¢ä¿‚ã«ãŠã„ã¦ãƒªãƒ¼ãƒ‰ã—ãŸã„ã€æ±ºå®šæ¨©ã‚’æŒã¡ãŸã„äººã€‚ç©æ¥µçš„ã§è‡ªåˆ†ã®æ„æ€ã‚’ã¯ã£ãã‚Šç¤ºã™å‚¾å‘ãŒã‚ã‚Šã¾ã™ã€‚<br>
      <strong>S (Submissive)</strong>ï¼šå§”ã­ã‚‹ã‚¿ã‚¤ãƒ—ã€‚ç›¸æ‰‹ã«èº«ã‚’ä»»ã›ã‚‹ã“ã¨ã§å®‰å¿ƒæ„Ÿã‚’å¾—ã‚‹äººã€‚å¾“é †ã§æ§ãˆã‚ã§ã™ãŒã€ä¿¡é ¼ã§ãã‚‹ç›¸æ‰‹ã«ã¯æ·±ã„æ„›æƒ…ã‚’ç¤ºã—ã¾ã™ã€‚
    </p>

    <h3>F/Eè»¸ï¼ˆæ„Ÿæƒ…è»¸ï¼‰</h3>
    <p>
      <strong>F (Physical)</strong>ï¼šè‚‰ä½“çš„ãªå¿«æ¥½ã‚„æ„Ÿè¦šçš„ãªåˆºæ¿€ã‚’é‡è¦–ã€‚è§¦ã‚Œåˆã„ã‚„èº«ä½“çš„ãªæ¥½ã—ã¿ã‹ã‚‰å–œã³ã‚„æº€è¶³æ„Ÿã‚’å¾—ã‚„ã™ã„ã‚¿ã‚¤ãƒ—ã§ã™ã€‚<br>
      <strong>E (Emotional)</strong>ï¼šç²¾ç¥çš„ãªã¤ãªãŒã‚Šã‚’é‡è¦–ã€‚å¿ƒã®äº¤æµã‚„æ„Ÿæƒ…çš„ãªçµ†ã‚’é‡è¦–ã—ã€æ‹æ„›ã‚„é–¢ä¿‚ã«ãŠã„ã¦ã¯æ„›æƒ…ã‚„ä¿¡é ¼ã‚’ç¬¬ä¸€ã«è€ƒãˆã¾ã™ã€‚
    </p>

    <h3>O/Cè»¸ï¼ˆé–‹æ”¾è»¸ï¼‰</h3>
    <p>
      <strong>O (Open)</strong>ï¼šæ€§ã‚„æ„Ÿæƒ…è¡¨ç¾ã‚’ã‚ªãƒ¼ãƒ—ãƒ³ã«ç¤ºã™ã‚¿ã‚¤ãƒ—ã€‚å¥½å¥‡å¿ƒæ—ºç››ã§ã€æ¥½ã—ã•ã‚„å¿«æ¥½ã‚’éš ã•ãšè¡¨ç¾ã—ã¾ã™ã€‚<br>
      <strong>C (Closed)</strong>ï¼šå¿ƒã‚’è¨±ã—ãŸç›¸æ‰‹ã«ã ã‘è‡ªåˆ†ã‚’è¦‹ã›ã‚‹ã‚¿ã‚¤ãƒ—ã€‚æ…é‡ã§æ§ãˆã‚ã€ä¿¡é ¼ã§ãã‚‹é–¢ä¿‚ã§æ·±ãã¤ãªãŒã‚‹ã“ã¨ã‚’å¥½ã¿ã¾ã™ã€‚
    </p>

    <h3>A/Nè»¸ï¼ˆåˆºæ¿€è»¸ï¼‰</h3>
    <p>
      <strong>A (Adventurous)</strong>ï¼šæ–°ã—ã„åˆºæ¿€ã‚„å¤‰åŒ–ã‚’æ±‚ã‚ã‚‹ã‚¿ã‚¤ãƒ—ã€‚æŒ‘æˆ¦ã‚„å†’é™ºã‚’æ¥½ã—ã¿ã€æ‹æ„›ã‚„å¿«æ¥½ã«ãŠã„ã¦ã‚‚å¥½å¥‡å¿ƒãŒæ—ºç››ã§ã™ã€‚<br>
      <strong>N (Normal)</strong>ï¼šå®‰å®šã‚„å®‰å¿ƒã‚’æ±‚ã‚ã‚‹ã‚¿ã‚¤ãƒ—ã€‚å¤‰åŒ–ã‚ˆã‚Šã‚‚è½ã¡ç€ã„ãŸé–¢ä¿‚ã‚„å®‰å…¨ãªç’°å¢ƒã‚’å¥½ã¿ã€å®‰å¿ƒæ„Ÿã‚’é‡è¦–ã—ã¾ã™ã€‚
    </p>
</section>
<section id="type-cards">
  <h2>16ã‚¿ã‚¤ãƒ—ã‚­ãƒ£ãƒ©ä¸€è¦§</h2>
  <div class="type-grid" id="grid"></div>
</section>

<div class="home-button">
  <button onclick="location.href='index.html'">ãƒ›ãƒ¼ãƒ ã¸æˆ»ã‚‹</button>
  <button onclick="location.href='matrix.html'">16ã‚¿ã‚¤ãƒ—ç›¸æ€§ä¸€è¦§è¡¨</button>
</div>

<!-- ãƒ¢ãƒ¼ãƒ€ãƒ« -->
<div id="detail-modal">
  <div id="detail-content">
    <img id="detail-img" class="main-img" src="" alt="">
    <h3 id="detail-name"></h3>
    <p id="detail-desc"></p>
    <div id="detail-best"><strong>ãƒ™ã‚¹ãƒˆç›¸æ€§:</strong></div>
    <div id="detail-worst"><strong>ãƒ¯ãƒ¼ã‚¹ãƒˆç›¸æ€§:</strong></div>
    <button class="close-btn" onclick="closeDetail()">é–‰ã˜ã‚‹</button>
  </div>
</div>

<script>
// ----- ã‚¿ã‚¤ãƒ—ãƒ‡ãƒ¼ã‚¿ -----
const typeData = {
  "D-F-O-A": {name:"çµ¶å¯¾ä¸»å°æ¨©æ¡ã‚ŠãŸã„è‚‰ä½“ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼", animal:"ãƒ©ã‚¤ã‚ªãƒ³", img:"images/D-F-O-A.jpg", desc:"æœ¬èƒ½ã®ã¾ã¾ä¸»å°æ¨©ã‚’æ¡ã‚Šã€è‚‰ä½“çš„ãªåˆºæ¿€ã‚’è¿½ã„æ±‚ã‚ã‚‹æƒ…ç†±çš„ãªã‚¿ã‚¤ãƒ—ã€‚", best:["S-F-O-A","S-F-O-N","S-E-O-A"], worst:["D-F-C-N","D-E-C-N","S-E-C-N"]},
  "D-F-O-N": {name:"ç†æ€§ã¶ã£ãŸã‚»ãƒƒã‚¯ã‚¹ä¸­æ¯’è€…", animal:"ãƒˆãƒ©", img:"images/D-F-O-N.jpg", desc:"é ­ã§ã¯ç†æ€§ã‚’ä¿ã£ã¦ã„ã‚‹ã¤ã‚‚ã‚Šã§ã‚‚å¿«æ¥½ã«æŠ—ãˆãªã„ä¸­æ¯’è€…ã€‚", best:["S-F-O-N","S-E-O-A","S-F-O-A"], worst:["D-F-C-N","D-E-C-N","S-E-C-N"]},
  "D-F-C-A": {name:"ãƒ‰Sãªå¿«æ¥½ãƒãƒƒãƒ‰ã‚µã‚¤ã‚¨ãƒ³ãƒ†ã‚£ã‚¹ãƒˆ", animal:"ã‚¿ã‚«", img:"images/D-F-C-A.jpg", desc:"å¿«æ¥½ã®å¯èƒ½æ€§ã‚’æ¢æ±‚ã™ã‚‹ãƒ‰Sç ”ç©¶è€…ã€‚", best:["S-F-C-A","S-F-C-N","S-E-C-A"], worst:["D-F-O-N","D-E-O-N","S-E-O-N"]},
  "D-F-C-N": {name:"è‚‰ä½“ä¿¡ä»°ã®æ”¯é…ãƒªãƒ¼ãƒ€ãƒ¼", animal:"ã‚ªã‚ªã‚«ãƒŸ", img:"images/D-F-C-N.jpg", desc:"ä¸»å°æ¨©ã‚’æ¡ã‚ŠãŸã„å¼·ã„æ”¯é…æ¬²ã‚’æŒã¤ãƒªãƒ¼ãƒ€ãƒ¼æ°—è³ªã€‚", best:["S-F-C-N","S-E-C-N","S-F-C-A"], worst:["D-F-O-A","D-E-O-A","S-E-O-A"]},
  "D-E-O-A": {name:"æ„›ã‚’èª¬ãæ”¯é…ç³»ãƒ­ãƒãƒ³ãƒã‚¹ãƒˆ", animal:"ãƒ¦ãƒ‹ã‚³ãƒ¼ãƒ³", img:"images/D-E-O-A.jpg", desc:"æ”¯é…æ¬²ã¨æ„›ã‚’èªã‚‹ãƒ­ãƒãƒ³ãƒãƒƒã‚¯ã‚¿ã‚¤ãƒ—ã€‚", best:["S-E-O-A","S-E-O-N","S-F-O-A"], worst:["D-E-C-N","D-F-C-N","S-E-C-N"]},
  "D-E-O-N": {name:"ç”˜ã‚„ã‹ã—ãƒ‰Sã‚«ãƒªã‚¹ãƒ", animal:"ã‚­ãƒ„ãƒ", img:"images/D-E-O-N.jpg", desc:"ç›¸æ‰‹ã‚’æ”¯é…ã—ã¤ã¤ç”˜ã‚„ã‹ã™ã‚«ãƒªã‚¹ãƒçš„å­˜åœ¨ã€‚", best:["S-E-O-N","S-F-O-N","S-E-O-A"], worst:["D-E-C-N","D-F-C-N","S-E-C-N"]},
  "D-E-C-A": {name:"å¹»æƒ³çš„SMè©©äºº", animal:"ãƒ•ã‚¯ãƒ­ã‚¦", img:"images/D-E-C-A.jpg", desc:"æ„›ã‚„æ„Ÿæƒ…ã‚’å¹»æƒ³çš„ã«è¡¨ç¾ã—SMçš„è¦ç´ ã‚‚æ¥½ã—ã‚€èŠ¸è¡“å®¶ã€‚", best:["S-E-C-A","S-F-C-A","S-F-C-N"], worst:["D-E-O-N","D-F-O-N","S-E-O-N"]},
  "D-E-C-N": {name:"é‡ãŸã„æ„›ã®æ”¯é…è€…", animal:"ã‚¯ãƒ", img:"images/D-E-C-N.jpg", desc:"æ„›æƒ…ãŒæ·±ã™ãã¦ç›¸æ‰‹ã‚’ç¸›ã‚Šã¤ã‘ã‚‹ã»ã©ã®æ”¯é…åŠ›ã‚’ç™ºæ®ã™ã‚‹ã€‚", best:["S-E-C-N","S-F-C-N","S-F-C-A"], worst:["D-E-O-A","D-F-O-A","S-E-O-A"]},
  "S-F-O-A": {name:"å¿«æ¥½ã‚’è¿½ã„æ±‚ã‚ã‚‹çŒ¿ç³»ãƒ¢ãƒ³ã‚¹ã‚¿ãƒ¼", animal:"ã‚µãƒ«", img:"images/S-F-O-A.jpg", desc:"ã²ãŸã™ã‚‰å¿«æ¥½ã«å¿ å®Ÿã§ã‚¨ãƒãƒ«ã‚®ãƒƒã‚·ãƒ¥ãªã‚¿ã‚¤ãƒ—ã€‚", best:["D-F-O-A","D-F-O-N","S-E-O-A"], worst:["D-F-C-N","D-E-C-N","S-E-C-N"]},
  "S-F-O-N": {name:"ã‚»ã‚¯ã‚·ãƒ£ãƒ«å¾“é †ãƒšãƒƒãƒˆ", animal:"ãƒã‚³", img:"images/S-F-O-N.jpg", desc:"å­çŒ«ã®ã‚ˆã†ã«å¾“é †ã§ç›¸æ‰‹ã®æœ›ã¿ã‚’å¶ãˆã‚‹ã“ã¨ã«å–œã³ã‚’æ„Ÿã˜ã‚‹ã€‚", best:["D-F-O-N","S-E-O-N","S-F-O-A"], worst:["D-F-C-N","D-E-C-N","S-E-C-N"]},
  "S-F-C-A": {name:"éš ã‚Œå¤‰æ…‹ãƒãƒ£ãƒ¬ãƒ³ã‚¸ãƒ£ãƒ¼", animal:"ã‚«ãƒ¡ãƒ¬ã‚ªãƒ³", img:"images/S-F-C-A.jpg", desc:"æ–°ã—ã„å¿«æ¥½ã¸ã®æŒ‘æˆ¦ã«ç©æ¥µçš„ãªéš ã‚Œå¤‰æ…‹ã‚¿ã‚¤ãƒ—ã€‚", best:["D-F-C-A","S-F-C-N","S-E-C-A"], worst:["D-F-O-N","D-E-O-N","S-E-O-N"]},
  "S-F-C-N": {name:"ãŠã¨ãªã—ã„è‚‰ä½“å¥‰ä»•è€…", animal:"ã‚¦ã‚µã‚®", img:"images/S-F-C-N.jpg", desc:"ç›¸æ‰‹ã‚’æº€è¶³ã•ã›ã‚‹ã“ã¨ã‚’å–œã³ã¨ã™ã‚‹çŒ®èº«ã‚¿ã‚¤ãƒ—ã€‚", best:["D-F-C-N","S-F-C-A","S-E-C-N"], worst:["D-F-O-A","D-E-O-A","S-E-O-A"]},
  "S-E-O-A": {name:"æ‹æ„›ä¾å­˜ã®ã‚»ãƒƒã‚¯ã‚¹ãƒ­ãƒãƒ³ãƒã‚¹ãƒˆ", animal:"ãƒãƒˆ", img:"images/S-E-O-A.jpg", desc:"æ‹æ„›æ„Ÿæƒ…ã¨å¿«æ„Ÿã‚’çµã³ã¤ã‘æ„›ã‚’æ±‚ã‚ç¶šã‘ã‚‹æƒ…ç†±å®¶ã€‚", best:["D-E-O-A","S-F-O-A","S-E-O-N"], worst:["D-E-C-N","D-F-C-N","S-E-C-N"]},
  "S-E-O-N": {name:"ç´”æ„›ã«æººã‚Œã‚‹ãƒ™ãƒƒãƒ‰ã®ä»”çŠ¬", animal:"ã‚¤ãƒŒ", img:"images/S-E-O-N.jpg", desc:"æ„›æƒ…ã«åŒ…ã¾ã‚Œã‚‹ã“ã¨ã‚’å¤§åˆ‡ã«ã™ã‚‹ç´”ç²‹ãªä»”çŠ¬ã‚¿ã‚¤ãƒ—ã€‚", best:["D-E-O-N","S-F-O-N","S-E-O-A"], worst:["D-E-C-N","D-F-C-N","S-E-C-N"]},
  "S-E-C-A": {name:"ç§˜å¯†ä¸»ç¾©ã®å±é™ºãªå¤¢æƒ³å®¶", animal:"ã‚³ã‚¦ãƒ¢ãƒª", img:"images/S-E-C-A.jpg", desc:"ç§˜å¯†ã‚’æŠ±ãˆã¤ã¤å¹»æƒ³çš„ãªå¤¢æƒ³å®¶ã€‚", best:["D-E-C-A","S-F-C-A","S-F-C-N"], worst:["D-E-O-N","D-F-O-N","S-E-O-N"]},
  "S-E-C-N": {name:"ç©¶æ¥µã®å°½ãã—ç³»ã‚»ãƒƒã‚¯ã‚¹è–äºº", animal:"ã‚·ã‚«", img:"images/S-E-C-N.jpg", desc:"ç›¸æ‰‹ã®æ¬²æœ›ã‚’å—ã‘æ­¢ã‚ã‚‹çŒ®èº«ã‚¿ã‚¤ãƒ—ã€‚", best:["D-E-C-N","S-F-C-N","S-F-C-A"], worst:["D-E-O-A","D-F-O-A","S-E-O-A"]}
};

// ã‚«ãƒ¼ãƒ‰ç”Ÿæˆ
const grid = document.getElementById('grid');
for(let code in typeData){
  const card = document.createElement('div');
  card.className='type-card';
  card.innerHTML = `
    <img src="${typeData[code].img}" alt="${code}">
    <h4>${code} - ${typeData[code].animal}</h4>
    <p>${typeData[code].name}</p>
  `;
  card.onclick = ()=>openDetail(code);
  grid.appendChild(card);
}

// ç›¸æ€§ã‚¹ã‚³ã‚¢è¨ˆç®—
function getCompatibilityScore(type1, type2) {
  const [d1,f1,o1,a1] = type1.split("-");
  const [d2,f2,o2,a2] = type2.split("-");
  let score=0;
  if((d1==="D" && d2==="S")||(d1==="S" && d2==="D")) score+=2;
  else if(d1===d2) score-=2;
  score += (f1===f2)?1:-1;
  if(o1===o2) score+=1;
  score += (a1===a2)?1:-1;
  return score;
}

function getBestAndWorst(typeKey){
  const list = Object.keys(typeData)
    .filter(t=>t!==typeKey)
    .map(t=>({key:t,score:getCompatibilityScore(typeKey,t)}))
    .sort((a,b)=>b.score-a.score);
  return {
    best: list.slice(0,3).map(l=>l.key),
    worst: list.slice(-3).reverse().map(l=>l.key)
  };
}

function createHearts(rank,type){
  const container = document.createElement('div');
  container.className='heart-container';
  const heartChar = type==='best'?'â¤ï¸':'ğŸ’™';
  for(let i=0;i<rank;i++){
    const span = document.createElement('span');
    span.textContent = heartChar;
    container.appendChild(span);
  }
  return container;
}

// ãƒ¢ãƒ¼ãƒ€ãƒ«è¡¨ç¤º
function openDetail(code){
  const data = typeData[code];
  document.getElementById('detail-modal').style.display='flex';
  document.getElementById('detail-img').src=data.img;
  document.getElementById('detail-name').textContent=`${code} - ${data.animal}`;
  document.getElementById('detail-desc').textContent=data.desc;

  const {best,worst} = getBestAndWorst(code);

  const bestDiv=document.getElementById('detail-best');
  bestDiv.innerHTML="<strong>ãƒ™ã‚¹ãƒˆç›¸æ€§:</strong>";
  const bestRow=document.createElement('div');
  bestRow.className='compatible-row';
  best.forEach((b,i)=>{
    const wrapper=document.createElement('div');
    wrapper.className='compatible-wrapper';
    wrapper.title=b;
    wrapper.onclick=()=>openDetail(b);

    const hearts=createHearts(3-i,'best');
    const img=document.createElement('img');
    img.src=typeData[b].img;

    wrapper.appendChild(hearts);
    wrapper.appendChild(img);
    bestRow.appendChild(wrapper);
  });
  bestDiv.appendChild(bestRow);

  const worstDiv=document.getElementById('detail-worst');
  worstDiv.innerHTML="<strong>ãƒ¯ãƒ¼ã‚¹ãƒˆç›¸æ€§:</strong>";
  const worstRow=document.createElement('div');
  worstRow.className='compatible-row';
  worst.forEach((w,i)=>{
    const wrapper=document.createElement('div');
    wrapper.className='compatible-wrapper';
    wrapper.title=w;
    wrapper.onclick=()=>openDetail(w);

    const hearts=createHearts(3-i,'worst');
    const img=document.createElement('img');
    img.src=typeData[w].img;

    wrapper.appendChild(hearts);
    wrapper.appendChild(img);
    worstRow.appendChild(wrapper);
  });
  worstDiv.appendChild(worstRow);
}

function closeDetail(){
  document.getElementById('detail-modal').style.display='none';
}
</script>

</body>
</html>
